<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Group Search</title>
  <style>
    .cart {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #eee;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .group {
      padding: 10px;
      margin-bottom: 10px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
    }
    .add-btn {
      background-color: green;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .add-btn:disabled {
      background-color: gray;
      cursor: not-allowed;
    }
  </style>
</head>
<body>

  <!-- Add a clickable link for the cart -->
  <a href="{{ url_for('search_blueprint.shopping_cart') }}" class="cart">
    ðŸ›’ {{ amount_groups }} groups
  </a>

  <h1>Search Groups</h1>
  <form method="post" action="{{ url_for('search_blueprint.search_groups') }}">
    <input type="text" name="searchinput" value="{{ searchinput }}" placeholder="Enter group name or description" />
    <button type="submit">Search</button>
  </form>

  {% for group in groups %}
    <div class="group">
      <strong>{{ group.groupname }}</strong>: {{ group.description }}
      <form method="post" style="display:inline">
        <input type="hidden" name="add_group" value="{{ group.groupname }}">
        <input type="hidden" name="description" value="{{ group.description }}">
        <button type="submit" class="add-btn"{% if group.groupname in cart_names %}disabled{% endif %}>+</button>
      </form>
    </div>
  {% endfor %}

</body>
</html>
