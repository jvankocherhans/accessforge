<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Group Search</title>
</head>
<body>
{% include "includes/_flashmsg.html" %}
{% from "includes/_formhelpers.html" import render_field %}
  <!-- Add a clickable link for the cart -->
  <a href="{{ url_for('search_blueprint.shopping_cart') }}" class="cart">
    ðŸ›’ {{ amount_groups }} groups
  </a>

  <h1>Search Groups</h1>
  <form method="get" action="{{ url_for('search_blueprint.search_groups') }}">
    <input type="text" name="searchinput" value="{{ searchinput }}" placeholder="Enter group name or description" />
    <button type="submit">Search</button>
  </form>

  {% for group in groups %}
    <div class="group">
      <strong>{{ group.groupname }}</strong>: {{ group.description }}
      <form method="post" style="display:inline">
        <input type="hidden" name="gid" value="{{ group.gid }}">
        <input type="hidden" name="add_group" value="{{ group.groupname }}">
        <input type="hidden" name="description" value="{{ group.description }}">
        <button type="submit" class="add-btn" {% if group.groupname in cart_names %}disabled{% endif %}>+</button>
      </form>
    </div>
  {% endfor %}

</body>
</html>
